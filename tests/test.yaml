---

- name: KICK OFF THE TESTS
  hosts: localhost
  connection: local
  gather_facts: no

  vars:
    tower_instance: "https://54.144.88.64/"
    project_name: ajay-netdevops
    org_name: devops
    job_name: kickoff
    # tower_user: devops
    #tower_pass: devops

  tasks:
    - name: VALIDATE TEST
      debug:

    - name: COLLECT ALL JOB TEMPLATES
      uri:
        url: "{{ tower_instance}}api/v2/job_templates/"
        method: GET
        user: "{{ tower_user }}"
        password: "{{ tower_pass }}"
        return_content: yes
        validate_certs: no
      register: output


    - name: PROVISION THE DEV ENV
      debug:
        msg: "Pass in user input/PR info to Tower API"


- name: UPDATE EC2 INI FILE TO THE NEW INVENTORY
  hosts: localhost
  connection: local
  gather_facts: no

  tasks:

    - name: FIGURE OUT THE NEW INVENTORY
      debug:
        msg: "maybe use lineinfile to update ec2.ini with PR info"
